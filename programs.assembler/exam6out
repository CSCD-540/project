.DATA
x
y
z
flag

PROC   p0
LOAD y
LOADI 8
EQ
LOAD z
LOADI 8
EQ
AND
JFALSE I0
HALT
I0:
END

PROC   p1
LOADI 0
STOR flag
H0:
LOAD r0
LOADI 20
LT
JFALSE W0
LOAD flag
LOADI 0
EQ
JFALSE I1
LOAD x
LOADI 1
ADD
STOR x
LOADI 1
STOR flag
LOAD r0
LOADI 1
ADD
STOR r0
I1:
J H0
W0:
LOADI 8
STOR y
END

PROC   p2
LOADI 1
STOR flag
H1:
LOAD r0
LOADI 20
LT
JFALSE W1
LOAD flag
LOADI 1
EQ
JFALSE I2
LOAD x
LOADI 1
ADD
STOR x
LOADI 0
STOR flag
LOAD r0
LOADI 1
ADD
STOR r0
I2:
J H1
W1:
LOADI 8
STOR z
END

.IDATA