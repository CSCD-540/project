Assume Liuetenant is traitor (#3) Since m=1 need to go to 1 round

Round 0

C
1 2 3 4 5
1 1 0 1 1

Round 1

2
---
1 2  
1 2 
1 2 

3
---
X 3 
X 3 
X 3 

4
---
1 4 
1 4 
1 4 

5
---
1 5
1 5
1 5

Round 2

2
----
X 32
1 42
1 52

2 says 1

3
----
1 23
1 43
1 53

3 says 1

4
----
1 24
X 34
1 54 

4 says 1

5
----
1 25
X 35
1 45

5 says 1

Answer: agreement is on 1


Assume Commander is traitor.

Round 0

C
1 2 3 4 5
? 1 0 1 0

Round 1

2
---
1 2
1 2
1 2

3
---
0 3
0 3
0 3

4
---
1 4
1 4
1 4

5
---
0 5
0 5
0 5

Round 2

2
----
0 32
1 42
0 52

2 says 0

3
----
1 23
1 43
0 53

3 says 1

4
----
0 24
1 34
0 54

4 says 0

5
----
0 25
1 35
1 45

5 says 1

Since number of 0s and 1s are tied, loyal generals use tie rosolution to come to same conclusion.